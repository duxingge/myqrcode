
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>陕西燃气</title>
    <style>

        :root {
            margin:32px;
        }

        .headerContainer {
            height:200px;
        }
    
        .header {
            float:left;
            margin-right:10px;
        }

        .TitleContainer {
            text-align: center;
            padding-top:40px;
        }

        .tab-content {
            width:100%;
            top:200px;
            line-height:1.5;
            padding-bottom: 150px;
        }

        #protection {
            position: absolute;
            left: 30px;
        }

        .footerButton {
            position: fixed;
            display: flex;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 100px;
            color: white;
            text-align: center;
            border-top: 1px solid #dddddd;
        }

        .footer {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        .recordNumber {
            position: fixed;
            font-size:16px;
            color:grey;
            transition:color 0.3s;
            left: 0;
            bottom: 100px;
            padding:5px;
            width: 100%;
            height: 30px;
            text-align: center;
            background-color:white;
        
        }
        .recordNumber:hover{
            color:black;
        }

        /* Style the tab */
        .tab {
            display: flex;
            flex: 1;
            align-items: center;
            justify-content: center;
            height: 100%;
            font-size: 24px;
            color: black;
            background-color:white;

        }

        .active {
            background-color: #007bff; /* 蓝色背景 */
            color: white; /* 白色文字 */
            font-size: 28px;
        }

        .subTitleStyle {
            font-size: 40px;
        }

        .labelStyle2 {
            font-size: 36px;
            letter-spacing: 0.35em;
        }

        .labelStyle4 {
            font-size: 36px;
            letter-spacing: 0.35em;
        }
        .labelStyleNormal {
            font-size: 36px;
            letter-spacing: 0.09em;
        }
        .labelDescStyle {
            font-size: 36px;
        }

        .videoInfoContainer {
            margin-top:400px;
            display:flex;
            justify-content: center;
            height:100vh;
        }

        .videoContainer {
            text-align: center;
            width:80%;
        }

        .videoTitle {
            margin-top:20px;
            padding-bottom:20px;
            text-align: center;
        }

        video {
            width: 100%;
            height: auto;
            border: 1px solid #333333;
        }

        .videoTitleStyle {
            font-size: 24px;
        }

    </style>
</head>
<body>

<div class="content">
    <div class="headerContainer">
        <div class="header">
            <img src="http://101.201.173.95:8000/static/shanxi_ranqi.png" width="200px" height="200px">
        </div>
        <div id="tab1Title" class="TitleContainer">
            <span id="pageTitle" style="font-size: 60px" >管线信息一览</span>
            <br>
            <span id="titleDesc1" style="font-size: 30px">桩号:</span><span id="titleDesc2" style="font-size: 30px">{{ pipDetails.code }}</span>
        </div>

        <div id="tab2Title" class="TitleContainer">
            <span id="pageTitle" style="font-size: 60px" >宣教视频</span>
            <br>
            <span id="titleDesc1" style="font-size: 30px">爱护管道&nbsp</span><span id="titleDesc2" style="font-size: 30px">共筑安全</span>
        </div>
        
    </div>

    <div class="tab-content" id="pipLine">
        <h4 id="baseInformation" class="subTitle subTitleStyle">基础信息</h4>
        
        <section>
            <span id="pipLineName" class="label labelStyle4">管线名称:</span><span class="labelDesc labelDescStyle">{{ pipDetails.name }}</span>
            <br>
            <span id="planeCorner" class="label labelStyle4">平面转角:</span><span class="labelDesc labelDescStyle">{{ pipDetails.orientation }}</span>
            <br>
            <span id="mileage" class="label labelStyle2">里&nbsp&nbsp&nbsp&nbsp程:</span><span class="labelDesc labelDescStyle">{{ pipDetails.length_km }}</span>
            <br>
            <span id="PipelineBurialDepth" class="label labelStyle4">管线埋深:</span><span class="labelDesc labelDescStyle">{{ pipDetails.depth_m }}m</span>
            <br>
            <span id="DistanceFromPipelineLocation" class="label labelStyleNormal">离管道位置:</span><span class="labelDesc labelDescStyle">{{ pipDetails.distance_position_des}}m</span>
            <br>
            <span id="wallThickness" class="label labelStyle2">壁&nbsp&nbsp&nbsp&nbsp厚:</span><span class="labelDesc labelDescStyle">{{ pipDetails.wall_thickness_mm }}</span>
            <br>
            <span id="textureOfMaterial" class="label labelStyle2">材&nbsp&nbsp&nbsp&nbsp质:</span><span class="labelDesc labelDescStyle">{{ pipDetails.material }}</span>
        </section>

        <h4 id="phoneInformation" class="subTitle subTitleStyle">报警电话</h4>

        <section>
            <span id="company" class="label labelStyleNormal">汉中分公司:</span><span class="labelDesc labelDescStyle">0916-2313112</span>
            <br>
            <span id="dispatchDuty" class="label labelStyle4">调度值班:</span><span class="labelDesc labelDescStyle">029-86510497</span>
            <br>
            <span id="freeAlarm" class="label labelStyle4">免费报警:</span><span class="labelDesc labelDescStyle">800-8406666</span>
        </section>

        <h4 id="reminder" class="subTitle subTitleStyle">温馨提示</h4>

        <section>
            <span id="tip" class="label labelStyle4">保护管道设施，维护管道安全，是每个公民应尽的义务。</span>
        </section>

        <span id="protection" class="label labelStyle4">&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp------《中华人民共和国石油天然气管道保护法》</span>

        
    </div>
    <div class="tab-content" id="safeEducation" style="display:none;">
        <div class="videoInfoContainer">
            <div class="videoContainer">
                <video id="video"  controls>
                    Your browser does not support the video tag.
                </video>
                
                <div class="videoTitle videoTitleStyle">宣传视频</div>
            </div>

            
        </div>
    </div>

</div>

<div class="footer">
    <div>
        <a href="https://beian.miit.gov.cn" class="recordNumber">陕ICP备2024049204号-1</a>
    </div> 
   
     <div class="footerButton">
        <div  class="tab active" id="tab-pipLine" onclick="openTab('tab-pipLine', 'pipLine')" >管线信息</div>
        <div  class="tab" id="tab-safeEducation" onclick="openTab('tab-safeEducation', 'safeEducation')">安全宣教</div>
    </div> 
</div>



<script>
    

    function openTab(tabId, PageId) {
        var tabs = document.getElementsByClassName("tab-content");
        for (var i = 0; i < tabs.length; i++) {
            tabs[i].style.display = "none";
        }
        document.getElementById(PageId).style.display = "block";

        document.querySelectorAll('.tab').forEach(function (tab) {
            if (tab.id === tabId) {
                tab.classList.add('active');
            } else {
                tab.classList.remove('active');
            }
        })
        if(tabId == 'tab-pipLine') {
            document.getElementById('tab2Title').style.display = "none";
            document.getElementById('tab1Title').style.display = "block";

        } else if(tabId == 'tab-safeEducation') {
            document.getElementById('tab1Title').style.display = "none";
            document.getElementById('tab2Title').style.display = "block";
        }
    }

    function obtainVideoPath(str) {
        var hash = 0;
        if (str.length === 0) return hash;
        for (var i = 0; i < str.length; i++) {
            var char = str.charCodeAt(i);
            hash = ((hash << 5) - hash) + char;
            hash |= 0;
        }
        var index = hash % 3;
        if(index === 0) {
            return "http://101.201.173.95:8000//media/large_scale_construction.mp4";
        } else if(index == 1) {
            return "http://101.201.173.95:8000//media/pipline_protect.mp4";
        } else {
            return "http://101.201.173.95:8000//media/security_allance.mp4";
        }
    }

    var code = "{{pipDetails.code|escapejs}}"
    var videoPath = obtainVideoPath(code);
    
    document.getElementById('video').src = videoPath;
    document.getElementById('tab2Title').style.display = "none";
    document.getElementById('tab1Title').style.display = "block";

</script>
</body>
</html>
